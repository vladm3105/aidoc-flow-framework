# =============================================================================
# ðŸ“‹ Document Role: This is a DERIVATIVE of template(s)
# - Authority:
#   * MD Template: N/A (SPEC is YAML-only for both workflows)
#   * YAML Template: SPEC-MVP-TEMPLATE.yaml (primary for both workflows)
# - Purpose: Machine-readable validation rules for YAML documents
# - On conflict: Defer to SPEC-MVP-TEMPLATE.yaml
# =============================================================================
#
# Authority Hierarchy:
# Human Workflow:  N/A (SPEC is YAML-only)
# Autopilot:    YAML Template â†’ YAML Schema (validates YAML) â†’ Validators
#
# Schema is DERIVATIVE of YAML template (SPEC is YAML-only)
#
# SPEC Schema Definition v1.0
# Purpose: Define valid structure and validation rules for SPEC YAML documents
# Usage: Reference by validate_spec.py for automated validation
# Supports both full and MVP template profiles
#
schema_version: "1.0"
artifact_type: SPEC
layer: 9
last_updated: "2026-01-20"

references:
  md_template: "N/A (SPEC is YAML-only)"
  yaml_template: "SPEC-MVP-TEMPLATE.yaml"
  creation_rules: "SPEC_CREATION_RULES.md"
  validation_rules: "SPEC_VALIDATION_RULES.md"

# =============================================================================
# Profiles (Full vs MVP)
# =============================================================================

profiles:
  default: full
  allowed: [full, mvp]
  mvp:
    enforcement_level: optional
    notes:
      - "MVP SPECs may omit non-critical sections; validators treat breadth/coverage gaps as warnings."

# =============================================================================
# File Format Requirements
# =============================================================================

file_format:
  extension: ".yaml"
  naming_pattern: "^SPEC-\\d{2,}_[a-z0-9_]+\\.yaml$"
  description: "Format: SPEC-NN_descriptive_name.yaml"
  encoding: "UTF-8"
  yaml_version: "1.2"

# =============================================================================
# Top-Level Required Fields
# =============================================================================

top_level:
  required_fields:
    id:
      type: string
      pattern: "^[a-z][a-z0-9_]*$"
      description: "Component identifier (snake_case)"

    summary:
      type: string
      min_length: 10
      max_length: 200
      description: "Single-sentence description of component purpose"

    metadata:
      type: object
      required: true
      description: "Document control and versioning information"

    traceability:
      type: object
      required: true
      description: "Upstream and downstream artifact references"

    architecture:
      type: object
      required: true
      description: "Component architecture and dependencies"

    interfaces:
      type: object
      required: true
      description: "Interface definitions (classes, methods)"

    behavior:
      type: object
      required: true
      description: "Behavioral specifications (lifecycle, state, processing)"

    performance:
      type: object
      required: true
      description: "Performance targets and requirements"

    security:
      type: object
      required: true
      description: "Security specifications"

    observability:
      type: object
      required: true
      description: "Metrics, logging, health checks"

    verification:
      type: object
      required: true
      description: "Test scenarios and validation criteria"

    implementation:
      type: object
      required: true
      description: "Implementation specifics"

    threshold_references:
      type: object
      required: true
      description: "Registry document reference and keys used for @threshold tags"

  optional_fields:
    req_implementations:
      type: array
      description: "Per-REQ implementation details"
      recommended: true
      notes: "Maps each upstream REQ to implementation specifics"

    caching:
      type: object
      description: "Caching strategy and configuration"

    rate_limiting:
      type: object
      description: "Rate limiting configuration"

    circuit_breaker:
      type: object
      description: "Circuit breaker configuration"

    operations:
      type: object
      description: "Operational runbook"

    changelog:
      type: array
      description: "Version history and changes"

    maintenance:
      type: object
      description: "Maintenance and deprecation policies"

    notes:
      type: object
      description: "Assumptions, constraints, future enhancements"

# =============================================================================
# Metadata Section Requirements
# =============================================================================

metadata_schema:
  required_fields:
    version:
      type: string
      pattern: "^\\d+\\.\\d+\\.\\d+$"
      description: "Semantic version (MAJOR.MINOR.PATCH)"

    status:
      type: string
      allowed_values: ["draft", "review", "approved", "implemented", "deprecated"]
      description: "Document lifecycle status"

    created_date:
      type: string
      format: "date"
      pattern: "^\\d{4}-\\d{2}-\\d{2}$"
      description: "Document creation date (YYYY-MM-DD)"

    last_updated:
      type: string
      format: "date"
      pattern: "^\\d{4}-\\d{2}-\\d{2}$"
      description: "Last modification date (YYYY-MM-DD)"

    authors:
      type: array
      min_items: 1
      item_schema:
        name:
          type: string
          required: true
        email:
          type: string
          format: email
          required: false
        role:
          type: string
          required: false

  optional_fields:
    task_ready_score:
      type: string
      pattern: "^âœ… \\d+% \\(Target: â‰¥\\d+%\\)$"
      description: "Quality gate score"

    template_profile:
      type: string
      allowed_values: ["mvp", "full"]
      description: "Template profile hint for validators (e.g., 'mvp')"

    reviewers:
      type: array
      item_schema:
        name:
          type: string
        email:
          type: string
        role:
          type: string

    owners:
      type: array
      item_schema:
        team:
          type: string
        contact:
          type: string
        slack:
          type: string

# =============================================================================
# Traceability Section Requirements
# =============================================================================

traceability_schema:
  required_sections:
    upstream_sources:
      type: object
      description: "References to upstream artifacts"
      required_subsections:
        - business_requirements
        - product_requirements
        - architecture_decisions
        - atomic_requirements  # REQ is PRIMARY upstream input
      notes:
        - "atomic_requirements (REQ) is the PRIMARY input to SPEC"
        - "REQ defines WHAT to implement; SPEC defines HOW"
        - "See req_implementations section for per-REQ implementation details"

    downstream_artifacts:
      type: object
      description: "References to downstream artifacts"
      required_subsections:
        - implementation
      notes:
        - "REQ is NOT a downstream artifact - it is upstream"
        - "TASKS is the primary downstream artifact"

    cumulative_tags:
      type: object
      description: "Layer 9 cumulative tagging requirements"
      required_fields:
        brd:
          type: string
          pattern: "^BRD-\\d{2,}:[A-Z]+-\\d{2,}$"
          allow_null: true
        prd:
          type: string
          pattern: "^PRD-\\d{2,}:[A-Z]+-\\d{2,}$"
          allow_null: true
        ears:
          type: string
          pattern: "^EARS-\\d{2,}:\\d{2,}$"
          allow_null: true
        bdd:
          type: string
          pattern: "^BDD-\\d{2,}:[a-z\\-]+"
          allow_null: true
        adr:
          type: string
          pattern: "^ADR-\\d{2,}$"
          allow_null: true
        sys:
          type: string
          pattern: "^SYS-\\d{2,}:[A-Z]+-\\d{2,}$"
          allow_null: true
        req:
          type: string
          pattern: "^REQ-\\d{2,}:[a-z\\-]+"
          allow_null: true
        threshold:
          type: string
          pattern: "^PRD-\\d{2,}$"
          allow_null: true
      optional_fields:
        ctr:
          type: string
          pattern: "^CTR-\\d{2,}$"

    # ADDED: Upstream links for quick reference to source documents
    upstream_links:
      type: array
      description: "Simple list of upstream document references"
      item_schema:
        artifact:
          type: string
          description: "Artifact ID (e.g., BRD-01, PRD-01, SYS-01, CTR-01)"
        path:
          type: string
          description: "Relative path to artifact file"
        sections:
          type: array
          description: "Relevant section references"

  optional_sections:
    system_requirements:
      type: object

    engineering_requirements:
      type: object

    implementation_plan:
      type: object

    contracts:
      type: object

    requirements_source:
      type: object

    validation_evidence:
      type: object

    cross_reference_validation:
      type: object

    same_type_references:
      type: object
      description: "Related/dependent SPEC documents"

# =============================================================================
# Threshold References Requirements
# =============================================================================

threshold_references_schema:
  required_fields:
    registry_document:
      type: string
      pattern: "^PRD-\\d{2,}$"
      description: "PRD registry document providing threshold keys"

    keys_used:
      type: array
      min_items: 1
      description: "List of threshold keys referenced via @threshold tags"

# =============================================================================
# REQ Implementations Schema
# =============================================================================

req_implementations_schema:
  description: "Maps upstream REQ files to implementation details (HOW)"
  notes:
    - "REQ file = Source of truth for WHAT (requirements, acceptance criteria)"
    - "req_implementations = Source of truth for HOW (interfaces, types, methods)"
    - "DO NOT duplicate requirement text - reference REQ files instead"

  item_schema:
    required_fields:
      req_id:
        type: string
        pattern: "^REQ-\\d{3,}$"
        description: "REQ document ID being implemented"

      req_link:
        type: string
        description: "Relative path to the REQ file"

      implementation:
        type: object
        description: "Implementation details for this REQ"

    implementation_structure:
      required_subsections:
        interfaces:
          type: array
          description: "Classes and methods implementing this REQ"
          item_schema:
            class:
              type: string
              pattern: "^[A-Z][a-zA-Z0-9]+$"
              description: "Class name (PascalCase)"
            method:
              type: string
              pattern: "^[a-z][a-z0-9_]*$"
              description: "Method name (snake_case)"
            signature:
              type: string
              description: "Full method signature with types"
            purpose:
              type: string
              description: "What this method does for the REQ"

      optional_subsections:
        data_models:
          type: array
          description: "Data models required for this REQ"
          item_schema:
            name:
              type: string
            fields:
              type: array

        validation_rules:
          type: array
          description: "Validation rules implementing REQ acceptance criteria"
          item_schema:
            rule:
              type: string
            implementation:
              type: string

        error_handling:
          type: array
          description: "Error handling for this REQ"
          item_schema:
            error_code:
              type: string
            condition:
              type: string
            http_status:
              type: integer
            response_message:
              type: string

        test_approach:
          type: object
          description: "Testing strategy for this REQ"
          properties:
            unit_tests:
              type: array
            integration_tests:
              type: array

# =============================================================================
# Architecture Section Requirements
# =============================================================================

architecture_schema:
  required_fields:
    # ADDED: Architecture overview - high-level description
    overview:
      type: string
      format: multiline
      description: "High-level component description including purpose, technologies, and integration"
    
    # ADDED: Component structure - logical breakdown
    component_structure:
      type: array
      description: "Logical component breakdown"
      item_schema:
        name:
          type: string
          description: "Component name"
        responsibility:
          type: string
          description: "What this component does"
        dependencies:
          type: array
          description: "Component dependencies"
    
    # ADDED: Element IDs - unique identifiers for interfaces, models, rules
    element_ids:
      type: array
      description: "Unique element identifiers for traceability"
      item_schema:
        id:
          type: string
          pattern: "^SPEC\\.\\d{2}\\.\\d{2}\\.\\d{2}$"
          description: "Format: SPEC.{DOC}.{TYPE}.{SEQ} where TYPE: 16=interface, 17=data_model, 21=validation_rule"
        type:
          type: string
          allowed_values: ["interface", "data_model", "validation_rule"]
        name:
          type: string
        description:
          type: string

    pattern:
      type: string
      allowed_values: ["service", "library", "component", "integration"]
      description: "Architectural pattern type"

    domain:
      type: string
      description: "Business/technical domain"

    category:
      type: string
      description: "Functional category"

    dependencies:
      type: object
      description: "Internal and external dependencies"
      subsections:
        internal:
          type: array
        external:
          type: array

  optional_fields:
    scalability:
      type: object
      properties:
        horizontal_scaling:
          type: boolean
        stateless:
          type: boolean
        shared_state_strategy:
          type: string

    resilience:
      type: object
      properties:
        circuit_breaker_enabled:
          type: boolean
        retry_policy:
          type: object
        graceful_degradation:
          type: boolean

# =============================================================================
# Interfaces Section Requirements
# =============================================================================

interfaces_schema:
  required_fields:
    # ADDED: External APIs - HTTP endpoints exposed to clients
    external_apis:
      type: array
      description: "HTTP endpoints exposed to external clients"
      item_schema:
        endpoint:
          type: string
          description: "HTTP method and path (e.g., POST /api/v1/auth/login)"
        method:
          type: string
          allowed_values: ["GET", "POST", "PUT", "DELETE", "PATCH"]
        auth:
          type: string
          description: "Authentication requirement (None, JWT Bearer, API Key)"
        rate_limit:
          type: string
          description: "Rate limit specification"
        request_schema:
          type: object
          description: "JSON schema for request body"
        response_schema:
          type: object
          description: "JSON schema for response body"
        latency_target:
          type: string
          description: "@threshold reference or milliseconds"

    # ADDED: Internal APIs - service method signatures
    internal_apis:
      type: array
      description: "Internal service method signatures"
      item_schema:
        interface:
          type: string
          description: "ClassName.method_name() format"
        signature:
          type: string
          description: "Full method signature with types"
        purpose:
          type: string
          description: "What this method does"

    classes:
      type: array
      min_items: 1
      item_schema:
        name:
          type: string
          required: true
          pattern: "^[A-Z][a-zA-Z0-9]+$"
          description: "Class name (PascalCase)"

        description:
          type: string
          required: true

        constructor:
          type: object
          required: false
          properties:
            params:
              type: object

        methods:
          type: array
          required: true
          min_items: 1
          item_schema:
            name:
              type: string
              required: true
              # pattern: "^[a-z][a-z0-9_]*$"
              pattern: "^_{0,2}[a-z][a-z0-9_]*_{0,2}$"  # Allow snake_case and dunder methods
            description:
              type: string
              required: true
            input:
              type: object
              required: false
            output:
              type: object
              required: false
            errors:
              type: object
              required: false

# =============================================================================
# Behavior Section Requirements
# =============================================================================

behavior_schema:
  required_fields:
    lifecycle:
      type: object
      description: "Startup and shutdown sequences"
      properties:
        startup_sequence:
          type: array
        shutdown_sequence:
          type: array

    state_management:
      type: object
      description: "State definitions and transitions"
      properties:
        states:
          type: array
        transitions:
          type: object
        invariants:
          type: array

    request_processing:
      type: object
      description: "Request handling configuration"
      properties:
        concurrency_model:
          type: string
          allowed_values: ["sync", "async", "thread_pool", "event_loop"]
        max_concurrent_requests:
          type: integer
          minimum: 1

# =============================================================================
# Performance Section Requirements
# =============================================================================

performance_schema:
  required_fields:
    latency_targets:
      type: object
      required_properties:
        p50_milliseconds:
          type: string
          pattern: "^@threshold: PRD\\.\\d{2,}\\.[A-Za-z0-9_.-]+$"
        p95_milliseconds:
          type: string
          pattern: "^@threshold: PRD\\.\\d{2,}\\.[A-Za-z0-9_.-]+$"
        p99_milliseconds:
          type: string
          pattern: "^@threshold: PRD\\.\\d{2,}\\.[A-Za-z0-9_.-]+$"

    throughput_targets:
      type: object
      required_properties:
        sustained_requests_per_second:
          type: string
          pattern: "^@threshold: PRD\\.\\d{2,}\\.[A-Za-z0-9_.-]+$"

    resource_limits:
      type: object
      required_properties:
        cpu_cores_allocated:
          type: string
          pattern: "^@threshold: PRD\\.\\d{2,}\\.[A-Za-z0-9_.-]+$"
        memory_mb_allocated:
          type: string
          pattern: "^@threshold: PRD\\.\\d{2,}\\.[A-Za-z0-9_.-]+$"

  optional_fields:
    scaling_characteristics:
      type: object

    bottlenecks_identified:
      type: array

    optimization_priorities:
      type: array

# =============================================================================
# Security Section Requirements
# =============================================================================

security_schema:
  required_fields:
    authentication:
      type: object
      required_properties:
        required:
          type: boolean
        methods:
          type: array

    authorization:
      type: object
      required_properties:
        enabled:
          type: boolean

    input_validation:
      type: object
      required_properties:
        strategy:
          type: string

  optional_fields:
    data_protection:
      type: object

    rate_limiting_security:
      type: object

    audit_trail:
      type: object

# =============================================================================
# Observability Section Requirements
# =============================================================================

observability_schema:
  required_fields:
    metrics:
      type: object
      required_properties:
        standard_metrics:
          type: array
          min_items: 1

    logging:
      type: object
      required_properties:
        level:
          type: string
          allowed_values: ["DEBUG", "INFO", "WARN", "ERROR"]
        format:
          type: string
          allowed_values: ["json", "text", "structured"]

    health_checks:
      type: object
      required_properties:
        enabled:
          type: boolean
        endpoints:
          type: array

  optional_fields:
    distributed_tracing:
      type: object

# =============================================================================
# Verification Section Requirements
# =============================================================================

verification_schema:
  required_fields:
    bdd_scenarios:
      type: array
      description: "References to BDD feature files"
      min_items: 1

  optional_fields:
    performance_tests:
      type: array

    security_tests:
      type: array

    load_tests:
      type: array

    integration_tests:
      type: array

    deployment_tests:
      type: array

# =============================================================================
# Implementation Section Requirements
# =============================================================================

implementation_schema:
  required_fields:
    language:
      type: string
      description: "Primary implementation language"

    module_path:
      type: string
      description: "Path to implementing module"

    dependencies:
      type: object
      required_properties:
        runtime:
          type: array

  optional_fields:
    framework:
      type: string

    entry_point:
      type: string

    environment_variables:
      type: array

    configuration_files:
      type: array

    database_schemas:
      type: object

    deployment:
      type: object

    migration_strategy:
      type: object

# =============================================================================
# Validation Rules
# =============================================================================

validation_rules:
  # Structure validation
  structure:
    - rule: "File must be valid YAML"
      severity: error

    - rule: "All required top-level fields must be present"
      severity: error

    - rule: "File name must match SPEC-NN_name.yaml format"
      severity: warning

    - rule: "id field must match file name slug"
      severity: warning

    - rule: "threshold_references section must be present with registry document and keys_used"
      severity: error

    - rule: "Markdown file should not exceed 600 lines"
      severity: warning

    - rule: "YAML file should not exceed 2000 lines"
      severity: warning

  # Metadata validation
  metadata:
    - rule: "version must be semantic version format"
      severity: error

    - rule: "status must be valid lifecycle state"
      severity: error

    - rule: "created_date and last_updated must be valid dates"
      severity: error

    - rule: "At least one author must be specified"
      severity: error

  # Traceability validation
  traceability:
    - rule: "upstream_sources must include business_requirements"
      severity: warning

    - rule: "cumulative_tags must include all required upstream tags"
      severity: warning

    - rule: "cumulative_tags.threshold must reference PRD registry document when thresholds are used"
      severity: warning

    - rule: "cumulative_tags entries may be null only when the upstream artifact type genuinely does not exist"
      severity: info

    - rule: "downstream_artifacts must include implementation paths"
      severity: warning

    - rule: "All referenced document IDs must exist"
      severity: warning

    - rule: "upstream_sources must include atomic_requirements (REQ is primary input)"
      severity: warning

    - rule: "atomic_requirements must not be in downstream_artifacts (REQ is upstream)"
      severity: error

  # REQ Implementations validation
  req_implementations:
    - rule: "req_implementations section is recommended when upstream atomic_requirements exist"
      severity: info

    - rule: "Each req_implementations entry must have req_id matching upstream atomic_requirements"
      severity: warning

    - rule: "Each req_implementations entry must have req_link pointing to valid REQ file"
      severity: warning

    - rule: "implementation.interfaces must have at least one entry"
      severity: warning

    - rule: "Do NOT duplicate requirement text from REQ files - reference only"
      severity: info

    - rule: "Each atomic_requirement should have corresponding req_implementations entry"
      severity: info

  # Interface validation
  interfaces:
    - rule: "At least one class must be defined"
      severity: error

    - rule: "Each class must have at least one method"
      severity: error

    - rule: "Method names must be snake_case"
      severity: warning

    - rule: "Class names must be PascalCase"
      severity: warning

  # Performance validation
  performance:
    - rule: "latency_targets must include p50, p95, p99"
      severity: warning

    - rule: "Latency, throughput, and resource values must be @threshold references (no raw numbers)"
      severity: error

    - rule: "p95 must be greater than p50"
      severity: warning

    - rule: "p99 must be greater than p95"
      severity: warning

  # Security validation
  security:
    - rule: "authentication.required must be specified"
      severity: error

    - rule: "authorization.enabled must be specified"
      severity: error

    - rule: "input_validation.strategy must be specified"
      severity: error

  # Observability validation
  observability:
    - rule: "At least one metric must be defined"
      severity: error

    - rule: "logging.level must be valid"
      severity: error

    - rule: "health_checks.enabled must be specified"
      severity: error

  # Verification validation
  verification:
    - rule: "At least one BDD scenario must be referenced"
      severity: warning

# =============================================================================
# Cross-Reference Requirements (Cumulative Tagging - Layer 9)
# =============================================================================

traceability:
  cumulative_tags:
    layer: 9
    required:
      - "@brd: BRD.NN.EE.SS"
      - "@prd: PRD.NN.EE.SS"
      - "@ears: EARS.NN.EE.SS"
      - "@bdd: BDD.NN.EE.SS"
      - "@adr: ADR-NN"
      - "@sys: SYS.NN.EE.SS"
      - "@req: REQ.NN.EE.SS"
    optional:
      - "@ctr: CTR-NN"
    description: "Layer 9 requires 7 upstream artifact tags (8 including optional CTR)"

  upstream:
    required:
      - type: BRD
        format: "@brd: BRD.NN.EE.SS"
        location: "traceability.cumulative_tags"
      - type: PRD
        format: "@prd: PRD.NN.EE.SS"
        location: "traceability.cumulative_tags"
      - type: EARS
        format: "@ears: EARS.NN.EE.SS"
        location: "traceability.cumulative_tags"
      - type: BDD
        format: "@bdd: BDD.NN.EE.SS"
        location: "traceability.cumulative_tags"
      - type: ADR
        format: "@adr: ADR-NN"
        location: "traceability.cumulative_tags"
      - type: SYS
        format: "@sys: SYS.NN.EE.SS"
        location: "traceability.cumulative_tags"
      - type: REQ
        format: "@req: REQ.NN.EE.SS"
        location: "traceability.cumulative_tags"
    optional:
      - type: CTR
        format: "@ctr: CTR-NN"
        location: "traceability.cumulative_tags"

  downstream:
    expected:
      - type: TASKS
        format: "TASKS-NN"
      - type: Code
        format: "src/..."
      - type: Tests
        format: "tests/..."

  same_type:
    optional:
      - type: SPEC
        format: "related_spec: [SPEC-NN]"
        description: "Related SPEC document sharing domain context"
      - type: SPEC
        format: "depends_spec: [SPEC-NN]"
        description: "Prerequisite SPEC document"

# =============================================================================
# Error Messages
# =============================================================================

error_messages:
  SPEC-E001: "File is not valid YAML"
  SPEC-E002: "Missing required top-level field"
  SPEC-E003: "Missing required metadata field"
  SPEC-E004: "Invalid version format: must be MAJOR.MINOR.PATCH"
  SPEC-E005: "Invalid status value"
  SPEC-E006: "Invalid date format: must be YYYY-MM-DD"
  SPEC-E007: "No authors specified in metadata"
  SPEC-E008: "No classes defined in interfaces section"
  SPEC-E009: "Class has no methods defined"
  SPEC-E010: "Missing latency_targets in performance section"
  SPEC-E011: "Missing authentication specification in security section"
  SPEC-E012: "Missing metrics in observability section"
  SPEC-E013: "File name does not match SPEC-NN_name.yaml format"
  SPEC-E014: "Missing required traceability section"
  SPEC-E015: "Missing cumulative_tags in traceability"
  SPEC-W001: "Missing business_requirements in upstream_sources"
  SPEC-W002: "Missing cumulative tags for complete traceability"
  SPEC-W003: "No BDD scenarios referenced in verification"
  SPEC-W004: "p95 latency not greater than p50"
  SPEC-W005: "p99 latency not greater than p95"
  SPEC-W006: "Method name not in snake_case format"
  SPEC-W007: "Class name not in PascalCase format"
  SPEC-W008: "id field does not match file name"
  SPEC-W009: "task_ready_score below target threshold"
  SPEC-I001: "Consider adding caching section for performance"
  SPEC-I002: "Consider adding rate_limiting section"
  SPEC-I003: "Consider adding circuit_breaker section for resilience"
  SPEC-I004: "Consider adding operations runbook"
  SPEC-W010: "Markdown file exceeds 600 lines (target: 300-500)"
  SPEC-W011: "YAML file exceeds 2000 lines"

  # REQ Implementations errors
  SPEC-E016: "atomic_requirements found in downstream_artifacts - REQ is upstream, not downstream"
  SPEC-W012: "Missing atomic_requirements in upstream_sources - REQ is primary input to SPEC"
  SPEC-W013: "req_implementations section missing - recommended when atomic_requirements exist"
  SPEC-W014: "req_implementations entry missing req_id or req_link"
  SPEC-W015: "req_implementations entry has no interfaces defined"
  SPEC-W016: "req_id in req_implementations does not match any upstream atomic_requirements"
  SPEC-I005: "Consider adding req_implementations for complete REQ-to-implementation traceability"
  SPEC-I006: "atomic_requirement has no corresponding req_implementations entry"
